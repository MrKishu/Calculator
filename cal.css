/* styles.css â€” enhanced version
   - CSS-only theme toggle via #theme-toggle
   - Improved display, focus, accessibility and animations
   - Keep variable sets tidy for dark/light themes
*/

/* ---------------- variables: default (dark) ---------------- */
:root{
  --bg: #0b1117;
  --panel: rgba(255,255,255,0.03);
  --panel-2: rgba(255,255,255,0.02);
  --accent-1: #60a5fa;
  --accent-2: #6ee7b7;
  --text: #e6eef5;
  --muted: rgba(230,238,245,0.55);
  --shadow-strong: 0 14px 34px rgba(2,6,23,0.6);
  --shadow-soft: 0 6px 18px rgba(2,6,23,0.45);
  --glass: rgba(255,255,255,0.03);
  --glass-2: rgba(255,255,255,0.01);

  --radius: 14px;
  --pad-gap: 14px;
  --btn-size: 64px;
  --display-height: 108px;
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* ---------------- light theme variables, toggled by checkbox ---------------- */
/* When #theme-toggle is checked, update variables for light mode */
#theme-toggle:checked ~ .app {
  --bg: linear-gradient(120deg,#f6fbff,#f0f7ff);
  --panel: rgba(2,6,23,0.04);
  --panel-2: rgba(2,6,23,0.02);
  --accent-1: #2563eb;
  --accent-2: #059669;
  --text: #061028;
  --muted: rgba(6,16,40,0.55);
  --shadow-strong: 0 18px 40px rgba(2,6,23,0.08);
  --shadow-soft: 0 8px 20px rgba(2,6,23,0.06);
  --glass: rgba(0,0,0,0.03);
  --glass-2: rgba(0,0,0,0.01);
}

/* ---------------- base ---------------- */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; font-family:var(--font-sans); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
body {
  background: var(--bg);
  color: var(--text);
  transition: background 450ms ease, color 350ms ease;
}

/* visually hide helper class */
.sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* theme toggle checkbox (hidden but accessible) */
.theme-toggle { position: absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }

/* ---------------- app layout ---------------- */
.app {
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:36px;
}

/* container */
.calculator {
  width:380px;
  max-width:94vw;
  border-radius: calc(var(--radius) + 6px);
  padding:22px;
  background: linear-gradient(180deg, var(--panel), rgba(255,255,255,0.007));
  box-shadow: var(--shadow-strong), inset 0 1px 0 rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.02);
  transform: translateY(0);
  transition: transform 300ms cubic-bezier(.2,.9,.25,1), box-shadow 300ms ease;
}

/* header */
.brand{ text-align:center; margin-bottom:12px; display:flex; align-items:center; justify-content:space-between; gap:8px; }
.title{ margin:0; font-size:20px; color:var(--accent-1); letter-spacing:1px; }
.subtitle{ margin:0; font-size:12px; color:var(--muted); }

/* theme label positioned on right of header */
.theme-note{ font-size:18px; opacity:0.85; }

/* ---------------- display ---------------- */
.display{
  height: var(--display-height);
  border-radius: 12px;
  padding:12px 14px;
  margin-bottom:16px;
  background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.08));
  box-shadow: inset 0 6px 18px rgba(0,0,0,0.5);
  position:relative;
  display:flex;
  flex-direction:column;
  justify-content:center;
}

/* a neon rim that brightens in light/dark modes */
.display::before{
  content:"";
  position:absolute; inset:-6px;
  border-radius:16px;
  padding:6px;
  background: linear-gradient(90deg, rgba(96,165,250,0.06), rgba(110,231,183,0.05));
  filter: blur(18px);
  opacity:.8;
  z-index:-1;
  transition: opacity 300ms ease;
}

/* history (small) */
.history{
  color: var(--muted);
  font-size:13px;
  height:18px;
  width:100%;
  text-align:right;
  padding-right:8px;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* current row: number + copy button */
.current-row{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
.current{
  font-size:34px;
  font-weight:700;
  letter-spacing:0.6px;
  text-align:right;
  width:100%;
  padding-right:8px;
  color:var(--text);
  outline: none;
  transition: transform 150ms ease;
}

/* copy button (nice circular flat) */
.copy-btn{
  border: none;
  background: linear-gradient(180deg, var(--panel-2), transparent);
  color: var(--muted);
  font-size:18px;
  padding:8px;
  border-radius:8px;
  cursor: pointer;
  box-shadow: var(--shadow-soft);
}
.copy-btn:hover{ transform: translateY(-3px); color:var(--accent-1); }
.copy-btn:focus{ box-shadow: 0 8px 28px rgba(96,165,250,0.12); outline: 3px solid rgba(96,165,250,0.08); }

/* ---------------- keypad ---------------- */
.pad{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--pad-gap);
}

/* generic button style */
.btn{
  position:relative;
  user-select:none;
  border: none;
  outline: none;
  padding: 14px;
  height: var(--btn-size);
  font-size:18px;
  border-radius:12px;
  background: linear-gradient(180deg, var(--glass), var(--glass-2));
  color: var(--text);
  box-shadow: var(--shadow-soft);
  cursor:pointer;
  transition: transform 150ms cubic-bezier(.2,.9,.25,1), box-shadow 160ms ease, background 160ms;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* special visuals for operator and equals */
.btn.op { background: linear-gradient(180deg, rgba(96,165,250,0.12), rgba(96,165,250,0.04)); color:#fff; }
.btn.action { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:var(--muted); }
.btn.eq{
  background: linear-gradient(135deg, var(--accent-2), var(--accent-1));
  color:#02203a;
  font-weight:700;
  box-shadow: 0 16px 36px rgba(96,165,250,0.18);
  transform-origin:bottom right;
}

/* zero spans two columns */
.btn.double{ grid-column: span 2; }

/* hovered / active */
.btn:hover{ transform: translateY(-6px); box-shadow: 0 22px 46px rgba(2,6,23,0.25);}
.btn:active{ transform: translateY(2px) scale(.995); box-shadow: 0 8px 18px rgba(2,6,23,0.12); }

/* focus (keyboard accessible) */
.btn:focus{
  outline: 3px solid rgba(96,165,250,0.08);
  transform: translateY(-4px);
}

/* small ripple pseudo-element */
.btn::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  transition: box-shadow 300ms ease;
  pointer-events:none;
}

/* flash class used by script for key highlight */
.btn.flash{
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 30px 60px rgba(2,6,23,0.28);
}

/* ---------------- responsive ---------------- */
@media (max-width:420px){
  .calculator{ padding:16px; width:320px; }
  :root { --btn-size: 56px; --display-height: 88px; --pad-gap: 10px; }
  .current { font-size:28px; }
}

/* ---------------- small helpers ---------------- */
.footer{ text-align:center; margin-top:12px; color:var(--muted); font-size:12px; }

